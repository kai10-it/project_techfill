<!-- app/views/shared/_header.html.erb -->
<header>
  <!-- ヘッダー全体を囲むコンテナ -->
  <div class="header-container">

    <!-- サイトのロゴまたはタイトル表示 -->
    <h1 class="logo">TechFill</h1>
    
    <!-- ユーザー認証状態に応じたナビゲーションリンク -->
    <nav class="nav-links">
      <% if user_signed_in? %>
        <% if current_user.avatar.attached? %>
          <!-- アバター画像がアップロードされている場合：40x40にリサイズする -->
          <%= image_tag current_user.avatar.variant(resize_to_fill: [40, 40]), class: "avatar" %>
        <% else %>
          <!-- アバター画像がアップロードされていない場合：デフォルトの画像を使用する -->
          <%= image_tag asset_path("default_avatar.png"), class: "avatar" %>
        <% end %>

        <!-- ログイン済みの場合：ログアウトリンクを表示 -->
        <%= link_to "ログアウト", destroy_user_session_path, method: :delete %>
      <% else %>
        <!-- 未ログインの場合：ログイン＆サインアップリンクを表示 -->
        <%= link_to "ログイン", new_user_session_path %>
        <span class="separator">|</span>
        <%= link_to "サインアップ", new_user_registration_path %>
      <% end %>
    </nav>
    
  </div>
</header>
